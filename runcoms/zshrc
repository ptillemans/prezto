# -*- encoding=utf-8 -*-
# Executes commands at the start of an interactive session.
#
# Authors:
#   Sorin Ionescu <sorin.ionescu@gmail.com>
#

# Source Prezto.
if [[ -s "${ZDOTDIR:-$HOME}/.zprezto/init.zsh" ]]; then
  source "${ZDOTDIR:-$HOME}/.zprezto/init.zsh"
fi


# Customize to your needs...
#
# PTI: this is the place to add aliases, functions and other
# useful things for interactive work on the command line.
#

if [[ "$OSTYPE" =~ "darwin.*" ]]
then
  alias rgrep=grep -r
  alias brewski='brew update && brew upgrade && brew cleanup; brew doctor'

  # show/hide hidden files in OSX file browsers
  alias showFiles='defaults write com.apple.finder AppleShowAllFiles YES; killall Finder /System/Library/CoreServices/Finder.app'
  alias hideFiles='defaults write com.apple.finder AppleShowAllFiles NO; killall Finder /System/Library/CoreServices/Finder.app'
fi


test -e "${HOME}/.iterm2_shell_integration.zsh" && source "${HOME}/.iterm2_shell_integration.zsh"


# map gpg2 on regular gpg
alias gpg=gpg2


#
# add node modules bin directory to path
#
function node-init {
  if (echo $PATH | grep './node_modules/.bin')
  then
    echo "Path already has ./node_modules/.bin added"
  else
    export PATH=./node_modules/.bin:$PATH
    echo "The folder ./node_modules/.bin was added in front of the path."
  fi
}



# change cursor shape
echo -ne "\e[5 q" # start in insert mode
zle-keymap-select () {
  if [[ $TERM =~ .*-256color ]]; then
    if [ $KEYMAP = vicmd ]; then
      # the command mode for vi
      echo -ne "\e[2 q"
    else
      # the insert mode for vi
      echo -ne "\e[5 q"
    fi
  fi
  zle reset-prompt
  zle -R
}

# >>> conda initialize >>>
# !! Contents within this block are managed by 'conda init' !!
__conda_setup="$('/home/pti/.pyenv/versions/anaconda3-2019.03/bin/conda' 'shell.zsh' 'hook' 2> /dev/null)"
if [ $? -eq 0 ]; then
    eval "$__conda_setup"
else
    if [ -f "/home/pti/.pyenv/versions/anaconda3-2019.03/etc/profile.d/conda.sh" ]; then
        . "/home/pti/.pyenv/versions/anaconda3-2019.03/etc/profile.d/conda.sh"
    else
        export PATH="/home/pti/.pyenv/versions/anaconda3-2019.03/bin:$PATH"
    fi
fi
unset __conda_setup
# <<< conda initialize <<<

# Add Go support to path
if [[ "$GOROOT" != "" ]]; then
    export PATH="$GOROOT/bin:$PATH"
fi
if [[ "$GOPATH" != "" ]]; then
    export PATH="$GOPATH/bin:$PATH"
fi


#THIS MUST BE AT THE END OF THE FILE FOR SDKMAN TO WORK!!!
export SDKMAN_DIR="/Users/pti/.sdkman"
[[ -s "/Users/pti/.sdkman/bin/sdkman-init.sh" ]] && source "/Users/pti/.sdkman/bin/sdkman-init.sh"
